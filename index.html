<!DOCTYPE html>
<html>

<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-128060564-1"></script>
    <script>
        var host = window.location.hostname;
        if (host != 'localhost') {
            window.dataLayer = window.dataLayer || [];

            function gtag() {
                dataLayer.push(arguments);
            }

            gtag('js', new Date());

            gtag('config', 'UA-128060564-1');
        }
    </script>

    <meta charset='utf-8'>

    <title>Anne's data</title>

    <!--jquery -->
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>

    <!-- bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <script src="./lib/js/bootstrap.min.js"></script>

    <!-- bootstrap switch -->
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-switch/3.3.2/css/bootstrap3/bootstrap-switch.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-switch/3.3.2/js/bootstrap-switch.js"></script>

    <!-- bootstrap toggle-->
    <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
    <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>

    <!-- keen.io -->
    <link rel="stylesheet" href="./lib/css/keen-dashboards.css">
    <script src="./lib/js/keen.min.js"></script>


    <style type="text/css">
        body .container {
            min-width: 90%;
            padding: 0 15px;
            margin: 0 -15px;
        }

        html {
            min-height: 100%;
        }

        html {
            overflow-y: scroll;
        }

        img {
            max-width: 100%;
            /*max-height: 100%;*/
        }

        #mymap_1 {
            position: relative;
            height: 790px;
        }

        #mymap_2 {
            position: relative;
            height: 790px;
        }


        th {
            font-size: 12px;
        }

        td {
            font-size: 11px;
        }

        #my_slider {
            overflow: hidden;
            width: 25%;
            text-align:center

        }

        .center-block {
            display: block;
            margin-right: auto;
            margin-left: auto;
        }

    </style>

</head>

<body class="application" , id="body">


<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container-fluid">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">Anne's data</a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li class="dropdown" id="myDropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                           aria-expanded="false">
                            Select Data
                            <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#" onclick='dispatcher("default")'>default</a></li>

                            <li><a class="dropdown-item" href="#" onclick='dispatcher("161220KI_3-1_left")'>Image One</a>
                            </li>
                            <li><a class="dropdown-item" href="#" onclick='dispatcher("161220KI_3-1_right")'>Image two</a>
                            </li>

                            </li>

                        </ul>
                    </li>
                </ul>
            </div><!--/.nav-collapse -->
        </div><!--/.container-fluid -->

    </div>
</div>

<div class="container-fluid">

    <!--//top row-->
    <div class="row">
        <div class="col-sm-12">
            <!-- Map -->
            <div class="col-sm-6">
                <div class="chart-wrapper">
                    <div class="chart-title">
                        Dapi
                    </div>
                    <div class="chart-stage">
                        <div id="leafletmap">
<!--                            <div id="mymap_1" style="width: 100%;"></div>-->
                            <img id='dapi_img' src='data/series_1/dapi/page_000.jpg' />
                        </div>
                    </div>
                </div>
            </div>
            <!-- Map -->

            <!-- Map -->
            <div class="col-sm-6">
                <div class="chart-wrapper">
                    <div class="chart-title">
                        Lamin stain
                    </div>
                    <div class="chart-stage">
                        <div id="leafletmap_1">
<!--                            <div id="mymap_2" style="width: 100%;"></div>-->
                            <img id='lamin_img' src='data/series_1/lamin/page_000.jpg' />
                        </div>
                    </div>
                </div>
            </div>
            <!-- Map -->
        </div>
    </div>


    <div id="my_slider" class="center-block">
        <input oninput="setImage(this)" onchange='setImage(this)' type="range" min="0" max="50" value="0" step="1" />
        <span id="range">0</span><span>/50</span>
    </div>



</div>

<hr>

<script>
    var img_array = ['data/series_1/lamin/page_001.jpg', 'data/series_1/lamin/page_028.jpg'];
    var lamin_img = document.getElementById('lamin_img');
    var dapi_img = document.getElementById('dapi_img');

    const zeroPad = (num, places) => String(num).padStart(places, '0');

    function getFiles(stain, series_label){
        n = 51;
        out = [];
        for (var i = 0; i < n; i++){
            var str = 'data/' + series_label + '/' + stain + '/page_' + zeroPad(i,3) + '.jpg';
            out.push(str)
        }
        return out
    }

    function setImage(obj) {
        var value = obj.value;
        var dapi_arr = getFiles('dapi', 'series_1');
        var lamin_arr = getFiles('lamin', 'series_1');
        lamin_img.src = lamin_arr[value];
        dapi_img.src = dapi_arr[value];
        document.getElementById("range").innerHTML=value;
    }
</script>
</body>

</html>
